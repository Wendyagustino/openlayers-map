<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Edit Dataset | GREENPKU GIS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="halaman.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* CSS INTERNAL UNTUK KONTROL JARAK */
        .admin-page { background-color: #f4f7f6; font-family: 'Segoe UI', sans-serif; }
        .breadcrumb b { color: #2d5a27; font-weight: 700; }
        .form-container-admin {
            background: white; border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
            margin: 20px auto; max-width: 1000px; overflow: hidden;
        }
        .rth-modern-form { padding: 40px; }
        .form-section-title {
            font-size: 17px; font-weight: 700; color: #2d5a27;
            margin: 40px 0 25px 0; padding-bottom: 10px; border-bottom: 2px solid #f1f1f1;
            display: flex; align-items: center; gap: 10px;
        }
        .rth-grid-form { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px 60px; }
        .input-box { display: flex; flex-direction: column; }
        .input-box label { font-size: 14px; font-weight: 600; color: #444; margin-bottom: 12px; }
        .input-box input, .input-box select {
            padding: 14px 16px; border: 1.5px solid #e2e8f0; border-radius: 10px; font-size: 14px;
        }
        .full-width { grid-column: span 2; }
        .checkbox-container-modern { display: flex; gap: 15px; margin-top: 10px; flex-wrap: wrap; }
        .chip-checkbox input { display: none; }
        .chip-label {
            padding: 12px 22px; background: #f1f5f9; border-radius: 50px; cursor: pointer;
            border: 1px solid #e2e8f0; font-size: 13px; display: flex; align-items: center; gap: 8px;
        }
        .chip-checkbox input:checked + .chip-label { background: #2d5a27; color: white; border-color: #2d5a27; }
        .form-footer-actions {
            margin-top: 50px; padding-top: 30px; border-top: 1px solid #eee;
            display: flex; justify-content: flex-end; gap: 15px;
        }
        .btn-primary {
            background: #2d5a27; color: white; border: none; padding: 15px 45px;
            border-radius: 10px; font-weight: 700; cursor: pointer;
        }
    </style>
</head>

<body class="admin-page">
    <aside class="admin-sidebar">
        <div class="admin-profile">
            <div class="avatar-placeholder"><i class="fas fa-user-shield"></i></div>
            <h3 id="admin-name-display">Admin</h3>
        </div>
        <nav class="admin-menu">
            <a href="list.php" class="active"><i class="fas fa-database"></i> Dataset</a>
        </nav>
        <div class="logout-section">
            <a href="#" id="logout-btn" class="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </aside>

    <main class="main-content">
        <div class="breadcrumb">Home / Dataset / <b>Edit Dataset</b></div>

        <section class="form-container-admin">
            <div class="form-header-modern" style="background: linear-gradient(135deg, #2d5a27 0%, #3e7e36 100%); color: white; padding: 35px 40px;">
                <h2 style="margin:0"><i class="fas fa-edit"></i> Edit Data RTH</h2>
                <p style="margin: 10px 0 0; opacity: 0.9;">ID Data: <span id="display-id">...</span></p>
            </div>

            <form id="rth-form" class="rth-modern-form">
                <div class="form-section-title"><i class="fas fa-info-circle"></i> Informasi Dasar</div>
                <div class="rth-grid-form">
                    <div class="input-box">
                        <label>Nama RTH</label>
                        <input type="text" id="nama_rth" required>
                    </div>
                    <div class="input-box">
                        <label>Jenis RTH</label>
                        <select id="jenis_rth">
                            <option value="Taman Kota">Taman Kota</option>
                            <option value="Jalur Hijau Di Jalan">Jalur Hijau Di Jalan</option>
                            <option value="Hutan Kota">Hutan Kota</option>
                            <option value="Kebun Bibit">Kebun Bibit</option>
                        </select>
                    </div>
                    <div class="input-box">
                        <label>Pemilik/Pengelola</label>
                        <select id="pemilik">
                            <option value="Pemerintah Kota">Pemerintah Kota</option>
                            <option value="Pemerintah Provinsi">Pemerintah Provinsi</option>
                            <option value="Masyarakat/ Perorangan">Masyarakat/ Perorangan</option>
                        </select>
                    </div>
                </div>

                <div class="form-section-title"><i class="fas fa-map-marker-alt"></i> Lokasi & Geografis</div>
                <div class="rth-grid-form">
                    <div class="input-box">
                        <label>Latitude (LAT)</label>
                        <input type="number" step="any" id="lat" required>
                    </div>
                    <div class="input-box">
                        <label>Longitude (LONG)</label>
                        <input type="number" step="any" id="long" required>
                    </div>
                </div>

                <div class="form-section-title"><i class="fas fa-leaf"></i> Fasilitas</div>
                <div class="rth-grid-form">
                    <div class="input-box full-width">
                        <label>Kelengkapan Fasilitas (Status: <span id="status-label" style="color: #2d5a27; font-weight: bold;">...</span>)</label>
                        <div class="checkbox-container-modern">
                            <label class="chip-checkbox">
                                <input type="checkbox" class="fasilitas-checkbox" value="Tempat Duduk">
                                <span class="chip-label"><i class="fas fa-chair"></i> Tempat Duduk</span>
                            </label>
                            <label class="chip-checkbox">
                                <input type="checkbox" class="fasilitas-checkbox" value="Tempat Sampah">
                                <span class="chip-label"><i class="fas fa-trash"></i> Tempat Sampah</span>
                            </label>
                            <label class="chip-checkbox">
                                <input type="checkbox" class="fasilitas-checkbox" value="Penerangan">
                                <span class="chip-label"><i class="fas fa-lightbulb"></i> Penerangan Jalan</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-footer-actions">
                    <button type="button" class="btn-outline" onclick="window.location.href='list.php'">Batal</button>
                    <button type="submit" class="btn-primary" id="btn-simpan">PERBARUI DATA</button>
                </div>
            </form>
        </section>
    </main>

    <script type="module" src="edit.js">
        // SESSION GUARD: Cek sebelum render halaman
        if (!localStorage.getItem('nama_admin')) {
            alert("Akses Ditolak! Silahkan login terlebih dahulu.");
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>